% A matrix of pendulum images representing the various stages in the motion of a simple pendulum

\tikzsetnextfilename{matrix}
\begin{center}
   \begin{tikzpicture}

       \usetikzlibrary{patterns}
    %    \usetikzlibrary{positioning}
       % We define a tikz style which defines a fill pattern consisting of lines in the north east direction.
       % The draw=none option indicates that we do NOT want any stroke/border around the fill
       \tikzstyle{wall}=[fill,pattern=north east lines,minimum width=0.75cm,minimum height=0.3cm, draw=none]

       % Define dimensions and angles
       \def\r{2.5}
       \def\hw{0.25}     % Half width of the small wall segment on top
       \def\br{0.1}      % Radius of bob
       \def\ar{0.75}      % Radius of the arc that represents the angle

       \newcommand{\pendulum}[3]{
            % #1: Angle of pendulum string from x-axis
            % #2: Length of velocity vector
            % #3: Image caption (displayed at bottom)

            \def\angle{#1}

           % Define coordinates used in the diagram
           \coordinate (bc) at (\angle:\r+\br);          % Center of the bob

           % Draw commands
           \draw (-\hw, 0) -- (\hw, 0);
           \draw [wall] (-\hw,0) rectangle (\hw,0.1);        % Draws a rectangle using the 'wall' pattern giving us the sloped lines

           \draw (0,0) -- (\angle:\r);       % string
           \draw [dashed] (0,0) -- (0,-\r);  % Dashed line down the middle

           \draw (bc) circle [radius=\br];        % The small circle representing the bo

           \ifnum #2=0
           \else
               \draw [->] (bc) -- ++ (\angle+90:{#2/10});        % Draw the velocity vector with the specified length
           \fi

           \node [align=center, text width=4cm] at (-90:{\r + 1}) {#3};
       }

       \matrix
       {
            \pendulum{-120}{0}{At amplitude speed is zero.} & \pendulum{-105}{3}{Speed increasing} & \pendulum{-90}{5}{At equilibrium speed is maximum}\\
       };

   \end{tikzpicture}
\end{center}
